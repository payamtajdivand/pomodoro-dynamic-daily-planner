<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamic Pomodoro Planner</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg: #0d0d0d;
        --surface: #161616;
        --border: #2a2a2a;
        --accent: #ff4d00;
        --accent2: #ffaa00;
        --text: #f0ece4;
        --muted: #666;
        --green: #39ff6e;
        --blue: #3b82f6;
        --tomato: #ff4d00;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        background: var(--bg);
        color: var(--text);
        font-family: "Syne", sans-serif;
        min-height: 100vh;
        padding: 2rem 1rem;
        background-image:
          radial-gradient(ellipse at 20% 20%, #1a0a00 0%, transparent 50%),
          radial-gradient(ellipse at 80% 80%, #001a0d 0%, transparent 50%);
      }

      .container {
        max-width: 780px;
        margin: 0 auto;
      }

      header {
        margin-bottom: 2.5rem;
        border-bottom: 1px solid var(--border);
        padding-bottom: 1.5rem;
      }

      .tag {
        font-family: "Space Mono", monospace;
        font-size: 0.65rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        color: var(--accent);
        margin-bottom: 0.5rem;
      }

      h1 {
        font-size: clamp(1.8rem, 5vw, 2.8rem);
        font-weight: 800;
        line-height: 1.1;
        letter-spacing: -0.02em;
      }

      h1 span {
        color: var(--accent);
      }

      .subtitle {
        color: var(--muted);
        font-size: 0.9rem;
        margin-top: 0.5rem;
        font-family: "Space Mono", monospace;
      }

      /* Config Panel */
      .config {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 2rem;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 1.2rem;
      }

      .field label {
        display: block;
        font-size: 0.7rem;
        letter-spacing: 0.15em;
        text-transform: uppercase;
        color: var(--muted);
        font-family: "Space Mono", monospace;
        margin-bottom: 0.5rem;
      }

      .field input,
      .field select {
        width: 100%;
        background: var(--bg);
        border: 1px solid var(--border);
        border-radius: 8px;
        color: var(--text);
        font-family: "Space Mono", monospace;
        font-size: 1rem;
        padding: 0.6rem 0.8rem;
        outline: none;
        transition: border-color 0.2s;
      }

      .field input:focus,
      .field select:focus {
        border-color: var(--accent);
      }

      .field select option {
        background: #1a1a1a;
      }

      .generate-btn {
        grid-column: 1 / -1;
        background: var(--accent);
        color: #fff;
        border: none;
        border-radius: 8px;
        padding: 0.85rem 2rem;
        font-family: "Syne", sans-serif;
        font-weight: 700;
        font-size: 1rem;
        letter-spacing: 0.05em;
        cursor: pointer;
        transition:
          transform 0.15s,
          background 0.2s;
      }

      .generate-btn:hover {
        background: #ff6a2a;
        transform: translateY(-1px);
      }
      .generate-btn:active {
        transform: translateY(0);
      }

      /* Summary Bar */
      .summary {
        display: flex;
        gap: 1rem;
        margin-bottom: 1.5rem;
        flex-wrap: wrap;
      }

      .stat {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 0.6rem 1rem;
        font-family: "Space Mono", monospace;
        font-size: 0.75rem;
      }

      .stat strong {
        color: var(--accent2);
      }

      /* Timeline */
      .timeline {
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
      }

      .block-header {
        font-size: 0.7rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        color: var(--muted);
        font-family: "Space Mono", monospace;
        margin-top: 1.2rem;
        margin-bottom: 0.4rem;
        padding-left: 0.5rem;
        border-left: 2px solid var(--accent);
      }

      .row {
        display: grid;
        grid-template-columns: 120px 1fr auto;
        gap: 0.8rem;
        align-items: center;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 0.7rem 1rem;
        transition:
          border-color 0.2s,
          transform 0.15s;
        animation: fadeIn 0.3s ease both;
      }

      .row:hover {
        border-color: #3a3a3a;
        transform: translateX(2px);
      }

      .row.pomodoro {
        border-left: 3px solid var(--tomato);
      }
      .row.short-break {
        border-left: 3px solid var(--accent2);
      }
      .row.long-break {
        border-left: 3px solid var(--green);
      }
      .row.routine {
        border-left: 3px solid var(--blue);
      }
      .row.sleep {
        border-left: 3px solid #9b59b6;
        background: #130d1a;
      }
      .row.meal {
        border-left: 3px solid #e67e22;
      }
      .row.winddown {
        border-left: 3px solid #2980b9;
      }

      .time {
        font-family: "Space Mono", monospace;
        font-size: 0.78rem;
        color: var(--muted);
        white-space: nowrap;
      }

      .activity {
        font-size: 0.9rem;
        font-weight: 600;
      }

      .badge {
        font-family: "Space Mono", monospace;
        font-size: 0.6rem;
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        white-space: nowrap;
      }

      .badge.p {
        background: #3d1400;
        color: var(--tomato);
      }
      .badge.sb {
        background: #2a2000;
        color: var(--accent2);
      }
      .badge.lb {
        background: #0d2a15;
        color: var(--green);
      }
      .badge.r {
        background: #0d1a2a;
        color: var(--blue);
      }
      .badge.s {
        background: #1a0d2a;
        color: #c39bd3;
      }
      .badge.m {
        background: #2a1800;
        color: #e67e22;
      }
      .badge.w {
        background: #0d1e2a;
        color: #5dade2;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(6px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .empty {
        text-align: center;
        padding: 3rem;
        color: var(--muted);
        font-family: "Space Mono", monospace;
        font-size: 0.85rem;
        border: 1px dashed var(--border);
        border-radius: 12px;
      }

      .empty .big {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
      }

      .progress-bar {
        height: 3px;
        background: var(--border);
        border-radius: 2px;
        margin-bottom: 1.5rem;
        overflow: hidden;
      }
      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--accent), var(--accent2));
        border-radius: 2px;
        transition: width 0.5s ease;
      }

      @media (max-width: 500px) {
        .row {
          grid-template-columns: 100px 1fr;
        }
        .badge {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <div class="tag">‚ö° Dynamic Planner</div>
        <h1>Your <span>Pomodoro</span><br />Day Planner</h1>
        <p class="subtitle">
          Enter your wake-up time ‚Üí get your full day schedule
        </p>
      </header>

      <div class="config">
        <div class="field">
          <label>‚è∞ Wake-up Time</label>
          <input type="time" id="wakeTime" value="13:00" />
        </div>
        <div class="field">
          <label>üçÖ Pomodoros</label>
          <select id="pomCount">
            <option value="8">8 Pomodoros</option>
            <option value="10">10 Pomodoros</option>
            <option value="12" selected>12 Pomodoros</option>
            <option value="16">16 Pomodoros</option>
            <option value="20">20 Pomodoros</option>
            <option value="24">24 Pomodoros</option>
          </select>
        </div>
        <div class="field">
          <label>‚è± Pom Duration</label>
          <select id="pomDuration">
            <option value="25" selected>25 min (Classic)</option>
            <option value="50">50 min (Extended)</option>
          </select>
        </div>
        <div class="field">
          <label>üß© Work Type</label>
          <select id="workType">
            <option value="mixed" selected>Coding + Work</option>
            <option value="coding">Coding Only</option>
            <option value="study">Study / Learning</option>
            <option value="work">Work / Admin</option>
          </select>
        </div>
        <button class="generate-btn" onclick="generate()">
          ‚ö° Generate My Day
        </button>
      </div>

      <div id="summary" class="summary" style="display: none"></div>
      <div class="progress-bar" id="progressBar" style="display: none">
        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
      </div>
      <div class="timeline" id="timeline">
        <div class="empty">
          <div class="big">üçÖ</div>
          Enter your wake-up time and hit Generate
        </div>
      </div>
    </div>

    <script>
      const workLabels = {
        mixed: [
          "üñ•Ô∏è Coding Session",
          "üíº Work Session",
          "üñ•Ô∏è Coding Session",
          "üíº Deep Work",
          "üñ•Ô∏è Coding Session",
          "üíº Work Session",
          "üñ•Ô∏è Coding Session",
          "üíº Work Session",
          "üñ•Ô∏è Coding Session",
          "üíº Deep Work",
          "üñ•Ô∏è Coding Session",
          "üíº Work Session",
          "üñ•Ô∏è Coding Session",
          "üíº Work Session",
          "üñ•Ô∏è Coding Session",
          "üíº Work Session",
        ],
        coding: [
          "üñ•Ô∏è Coding Session",
          "üñ•Ô∏è Debug & Review",
          "üñ•Ô∏è Feature Build",
          "üñ•Ô∏è Refactor",
          "üñ•Ô∏è Coding Session",
          "üñ•Ô∏è Testing",
          "üñ•Ô∏è Documentation",
          "üñ•Ô∏è Code Review",
          "üñ•Ô∏è Coding Session",
          "üñ•Ô∏è Debug & Review",
          "üñ•Ô∏è Feature Build",
          "üñ•Ô∏è Refactor",
          "üñ•Ô∏è Coding Session",
          "üñ•Ô∏è Testing",
          "üñ•Ô∏è Documentation",
          "üñ•Ô∏è Code Review",
        ],
        study: [
          "üìñ Study Block",
          "üìù Practice Problems",
          "üìñ Review Notes",
          "üìö New Chapter",
          "üìñ Study Block",
          "üìù Active Recall",
          "üìñ Mind Map",
          "üìö Deep Read",
          "üìñ Study Block",
          "üìù Practice Problems",
          "üìñ Review Notes",
          "üìö New Chapter",
          "üìñ Study Block",
          "üìù Active Recall",
          "üìñ Mind Map",
          "üìö Deep Read",
        ],
        work: [
          "üíº Deep Work",
          "üìß Emails & Comms",
          "üíº Project Work",
          "üìä Analysis",
          "üíº Deep Work",
          "üìß Admin Tasks",
          "üíº Project Work",
          "üìã Planning",
          "üíº Deep Work",
          "üìß Emails & Comms",
          "üíº Project Work",
          "üìä Analysis",
          "üíº Deep Work",
          "üìß Admin Tasks",
          "üíº Project Work",
          "üìã Planning",
        ],
      };

      function fmt(mins) {
        const h = Math.floor(mins / 60) % 24;
        const m = mins % 60;
        const ampm = h >= 12 ? "PM" : "AM";
        const hh = h % 12 === 0 ? 12 : h % 12;
        return `${hh}:${String(m).padStart(2, "0")} ${ampm}`;
      }

      function generate() {
        const wakeInput = document.getElementById("wakeTime").value;
        const pomCount = parseInt(document.getElementById("pomCount").value);
        const pomDur = parseInt(document.getElementById("pomDuration").value);
        const workType = document.getElementById("workType").value;
        const shortBreak = pomDur === 25 ? 5 : 10;
        const longBreak = pomDur === 25 ? 30 : 20;

        const [wh, wm] = wakeInput.split(":").map(Number);
        let cursor = wh * 60 + wm;

        const items = [];
        const labels = workLabels[workType];

        // Morning routine
        items.push({
          type: "routine",
          label: "üåÖ Wake up & freshen up",
          dur: 15,
        });
        items.push({
          type: "routine",
          label: "‚òï Morning routine (coffee, breakfast)",
          dur: 45,
        });

        // Blocks of 4 pomodoros
        const pomPerBlock = 4;
        const blocks = Math.ceil(pomCount / pomPerBlock);
        let pomDone = 0;

        for (let b = 0; b < blocks; b++) {
          const blockPoms = Math.min(pomPerBlock, pomCount - pomDone);
          items.push({
            type: "block-header",
            label: `Deep Work Block ${b + 1}`,
          });
          for (let p = 0; p < blockPoms; p++) {
            pomDone++;
            items.push({
              type: "pomodoro",
              label: labels[(pomDone - 1) % labels.length],
              pom: pomDone,
              dur: pomDur,
            });
            if (p < blockPoms - 1) {
              items.push({
                type: "short-break",
                label: "üåø Short Break",
                dur: shortBreak,
              });
            }
          }
          if (b < blocks - 1) {
            items.push({
              type: "long-break",
              label: "üõãÔ∏è Long Break (rest, stretch, walk)",
              dur: longBreak,
            });
            // Add dinner after 2nd block roughly
            if (b === 1) {
              items.push({
                type: "meal",
                label: "üçΩÔ∏è Dinner & Unwind",
                dur: 45,
              });
            }
          }
        }

        // Wind down
        items.push({
          type: "winddown",
          label: "üìù Daily Review & Plan Tomorrow",
          dur: 20,
        });
        items.push({
          type: "winddown",
          label: "üìµ No-screen Wind-down",
          dur: 60,
        });
        items.push({
          type: "winddown",
          label: "üéÆ Personal Time / Leisure",
          dur: 60,
        });
        items.push({ type: "sleep", label: "üò¥ Sleep", dur: 0 });

        // Render
        const timeline = document.getElementById("timeline");
        timeline.innerHTML = "";
        let delay = 0;

        for (const item of items) {
          if (item.type === "block-header") {
            const h = document.createElement("div");
            h.className = "block-header";
            h.textContent = `‚Äî ${item.label}`;
            timeline.appendChild(h);
            continue;
          }

          const start = cursor;
          const end = cursor + (item.dur || 0);
          const row = document.createElement("div");
          row.className = `row ${item.type}`;
          row.style.animationDelay = `${delay}ms`;

          const timeStr = item.dur ? `${fmt(start)} ‚Äì ${fmt(end)}` : fmt(start);
          const badgeMap = {
            pomodoro: "p",
            "short-break": "sb",
            "long-break": "lb",
            routine: "r",
            sleep: "s",
            meal: "m",
            winddown: "w",
          };
          const badgeLabel = {
            pomodoro: `üçÖ #${item.pom}`,
            "short-break": "5 MIN",
            "long-break": `${longBreak} MIN`,
            routine: "ROUTINE",
            sleep: "SLEEP",
            meal: "MEAL",
            winddown: "WIND-DOWN",
          };

          row.innerHTML = `
      <div class="time">${timeStr}</div>
      <div class="activity">${item.label}</div>
      <div class="badge ${badgeMap[item.type]}">${badgeLabel[item.type]}</div>
    `;

          timeline.appendChild(row);
          cursor = end;
          delay += 40;
        }

        // Sleep time
        const sleepH = Math.floor(cursor / 60) % 24;
        const sleepM = cursor % 60;

        // Summary
        const workMins = pomCount * pomDur;
        const summary = document.getElementById("summary");
        summary.style.display = "flex";
        summary.innerHTML = `
    <div class="stat">Wake: <strong>${fmt(wh * 60 + wm)}</strong></div>
    <div class="stat">Sleep: <strong>${fmt(cursor)}</strong></div>
    <div class="stat">üçÖ <strong>${pomCount}</strong> Pomodoros</div>
    <div class="stat">Work: <strong>${Math.floor(workMins / 60)}h ${workMins % 60}m</strong></div>
    <div class="stat">Blocks: <strong>${blocks}</strong></div>
  `;

        const pb = document.getElementById("progressBar");
        pb.style.display = "block";
        setTimeout(() => {
          document.getElementById("progressFill").style.width = "100%";
        }, 100);
      }

      // Auto-generate on load
      window.onload = () => generate();
    </script>
  </body>
</html>
